function GameState(){(function(b){b.cells=[];let d=parseInt('383EE',16).toString(2);if(24>d.length)do d='0'+d;while(24>d.length);let e=d.length;for(let g=0;9>g;g++){let h=d.slice(e-(2*g+2),e-2*g),j='0'==h[0]?'e':'0'==h[1]?'o':'x';b.cells.push(j)}let f=d.slice(e-20,e-18);b.game='0'==f[0]?'0'==f[1]?'ot':'xt':'0'==f[1]?'ow':'xw'})(this)}function FieldSizes(a,b=10){(function(d,e,f){let g=e*f/400,h=(e-4*g)/3;d.field=e+'px',d.margin=g+'px',d.cell=h+'px',d.o_size=h/2+'px',d.o_width=0.1*h+'px',d.x_width=0.1*h+'px',d.x_height=0.7*h+'px'})(this,a,b),this.setStyles=function(){let d=document.createElement('style'),e='',f='.ttt_field{';f+='width:'+this.field+';',f+='height:'+this.field+';',f+='}',e+=f;let g='.ttt_field_cell{';g+='width:'+this.cell+';',g+='height:'+this.cell+';',g+='margin-top:'+this.margin+';',g+='margin-left:'+this.margin+';',g+='}',g+='.ttt_field_cell:nth-child(3n){',g+='margin-right:'+this.margin+';',g+='}',g+='.ttt_field_cell:nth-child(1n+7){',g+='margin-bottom:'+this.margin+';',g+='}',e+=g;let h='.ttt_cell_o::before{';h+='width:'+this.o_size+';',h+='height:'+this.o_size+';',h+='border-width:'+this.o_width+';',h+='border-radius:'+this.o_size+';',h+='}',e+=h;let j='.ttt_cell_x::before, .ttt_cell_x::after{';j+='width:'+this.x_width+';',j+='height:'+this.x_height+';',j+='}',e+=j,d.appendChild(document.createTextNode(e)),document.head.appendChild(d)}}function Cell(a,b){(function(d,e){let g=document.createElement('div');g.className='ttt_field_cell',g.dataset.id=e,d.element=g,d.id=e})(this,a,b),this.update=function(d){switch(d){case'o':this.element.classList.remove('ttt_cell_x'),this.element.classList.add('ttt_cell_o');break;case'x':this.element.classList.remove('ttt_cell_o'),this.element.classList.add('ttt_cell_x');break;case'e':default:this.element.classList.remove('ttt_cell_o'),this.element.classList.remove('ttt_cell_x');}}}function Field(a){(function(c,d){let e=new FieldSizes(d);e.setStyles();let f=document.createElement('div');f.className='ttt_field',c.element=f,c.cells=[];for(let h,g=0;9>g;g++)h=new Cell(g,e),c.cells.push(h),c.element.appendChild(h.element)})(this,a),this.update=function(c){for(let d=0;9>d;d++)this.cells[d].update(c.cells[d])}}function Game(a){(function(c,d){let e=document.getElementsByClassName(d);0<e.length?c.element=e[0]:console.log('There is no game element on the page')})(this,a),this.createField=function(c){this.field=new Field(c),this.element.appendChild(this.field.element)},this.updateField=function(){let c=new GameState;this.field.update(c)}}$(document).ready(function(){game=new Game('ttt_game'),console.log(game),game.createField(231),game.updateField()});